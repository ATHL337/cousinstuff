/* =========================================================
   MOBILE LAYOUT SYSTEM (single source of truth)
   ========================================================= */

body.vt-has-bottombar{
  padding-bottom: calc(84px + env(safe-area-inset-bottom));
}

/* Capacity widget should NOT appear elsewhere on mobile */
@media (max-width: 720px){
  .vt-registry-header .vt-capacity{ display:none !important; }
}

@media (max-width: 720px){

  /* Sticky header stays thin: brand + nav links only */
  .nav{
    position:sticky;
    top:0;
    z-index:var(--vt-z-header);
    background:rgba(255,255,255,0.78);
    backdrop-filter:blur(10px);

    display:grid;
    grid-template-columns:1fr;
    gap:10px;
    padding:10px 0 12px;
  }
  :root[data-theme="dark"] .nav{ background:rgba(6,18,38,0.78); }

  /* Hide tagline on mobile to cut header height */
  .brand .tagline{ display:none !important; }

  /* Bottom bar is the ONLY place utilities live on mobile */
  .vt-bottombar{ display:none; }

  body.vt-has-bottombar .vt-bottombar{
    display:block;
    position:fixed;
    left:0; right:0; bottom:0;
    z-index:var(--vt-z-bottombar);

    padding:
      10px max(14px, env(safe-area-inset-left))
      calc(10px + env(safe-area-inset-bottom))
      max(14px, env(safe-area-inset-right));

    background: linear-gradient(180deg, transparent, rgba(0,0,0,0.24));
    pointer-events:none;
  }

  body.vt-has-bottombar .vt-bottombar__inner{
    pointer-events:auto;
    display:grid;
    grid-template-columns: 1fr auto auto;
    gap:10px;
    align-items:center;

    border-radius:18px;
    border:2px solid rgba(255,255,255,0.16);
    background:rgba(6,18,38,0.82);
    backdrop-filter:blur(10px);
    box-shadow:0 16px 36px rgba(0,0,0,0.38);
    padding:10px;
  }

  :root:not([data-theme="dark"]) body.vt-has-bottombar .vt-bottombar__inner{
    background:rgba(255,255,255,0.86);
    border-color:rgba(11,58,120,0.18);
  }
}
